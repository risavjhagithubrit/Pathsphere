<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/components/ScrollToTop/ScrollToTop.css" />
  </head>
  <body>
    <button id="scrollToTopBtn" class="scroll-top" aria-label="Scroll to top">
      <div class="scroll-top-icon">
          <i class="fa-solid fa-arrow-up"></i>
      </div>
      <svg class="progress-ring" width="60" height="60">
          <circle class="progress-ring__circle" stroke="#ffffff" stroke-width="4" fill="transparent" r="28" cx="30"
              cy="30"></circle>
      </svg>
  </button>
  <script>
    const scrollToTopBtn = document.getElementById("scrollToTopBtn");
      const progressCircle = document.querySelector(".progress-ring__circle");
      const radius = progressCircle.r.baseVal.value;
      const circumference = 2 * Math.PI * radius;
  
      // Set the circle progress properties
      progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
      progressCircle.style.strokeDashoffset = circumference;
  
      // Function to show or hide the button based on scroll position
      function toggleScrollButton() {
          if (window.scrollY > 100) {
              scrollToTopBtn.classList.add("show");
          } else {
              scrollToTopBtn.classList.remove("show");
          }
      }
  
      // Function to set the scroll progress on the button ring
      function setProgress(percent) {
          const offset = circumference - (percent / 100) * circumference;
          progressCircle.style.strokeDashoffset = offset;
      }
  
      // Listen for scroll events to update button visibility and progress
      window.addEventListener("scroll", () => {
          toggleScrollButton();
          const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
          setProgress(scrollPercent);
      });
  
      // Smooth scroll to top when the button is clicked
      scrollToTopBtn.addEventListener("click", () => {
          window.scrollTo({
              top: 0,
              behavior: "smooth"
          });
      });
  </script>
  </body>
  <script>
      const scrollTopButton = document.querySelector(".scroll-top");
      scrollTopButton.style.display = "none";
      window.addEventListener("scroll", function () {
        if (window.scrollY > 100) {
          scrollTopButton.style.display = "block";
        } else {
          scrollTopButton.style.display = "none";
        }
      });
  </script>
</html>
